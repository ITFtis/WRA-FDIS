(function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(n){var r=n.length,i=0,u=Math.PI/180,f,e,t;if(r>2){for(t=0;t<r;t++)f=n[t],e=n[(t+1)%r],i+=(e.lng-f.lng)*u*(2+Math.sin(f.lat*u)+Math.sin(e.lat*u));i=i*40680631590769/2}return Math.abs(i)},formattedNumber:function(n,t){var i=parseFloat(n).toFixed(t),o=L.drawLocal.format&&L.drawLocal.format.numeric,u=o&&o.delimiters,e=u&&u.thousands,f=u&&u.decimal,r;return(e||f)&&(r=i.split("."),i=e?r[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e):r[0],f=f||".",r.length>1&&(i=i+f+r[1])),i},readableArea:function(t,i,r){var f,u,r=L.Util.extend({},n,r);return i?(u=["ha","m"],type=typeof i,type==="string"?u=[i]:type!=="boolean"&&(u=i),f=t>=1e6&&u.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(t*1e-6,r.km)+" km²":t>=1e4&&u.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(t*.0001,r.ha)+" ha":L.GeometryUtil.formattedNumber(t,r.m)+" m²"):(t/=.836127,f=t>=3097600?L.GeometryUtil.formattedNumber(t/3097600,r.mi)+" mi²":t>=4840?L.GeometryUtil.formattedNumber(t/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(t,r.yd)+" yd²"),f},readableDistance:function(t,i,r,u,f){var e,o,f=L.Util.extend({},n,f);o=i?typeof i=="string"?i:"metric":r?"feet":u?"nauticalMile":"yards";switch(o){case"metric":e=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,f.km)+" km":L.GeometryUtil.formattedNumber(t,f.m)+" m";break;case"feet":t*=1.09361*3;e=L.GeometryUtil.formattedNumber(t,f.ft)+" ft";break;case"nauticalMile":t*=.53996;e=L.GeometryUtil.formattedNumber(t/1e3,f.nm)+" nm";break;case"yards":default:t*=1.09361;e=t>1760?L.GeometryUtil.formattedNumber(t/1760,f.mi)+" miles":L.GeometryUtil.formattedNumber(t,f.yd)+" yd"}return e},isVersion07x:function(){var n=L.version.split(".");return parseInt(n[0],10)===0&&parseInt(n[1],10)===7}})})();L.LatLngUtil={cloneLatLngs:function(n){for(var i=[],t=0,r=n.length;t<r;t++)Array.isArray(n[t])?i.push(L.LatLngUtil.cloneLatLngs(n[t])):i.push(this.cloneLatLng(n[t]));return i},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}};L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,t,i,r){return this._checkCounterclockwise(n,i,r)!==this._checkCounterclockwise(t,i,r)&&this._checkCounterclockwise(n,t,i)!==this._checkCounterclockwise(n,t,r)},_checkCounterclockwise:function(n,t,i){return(i.y-n.y)*(t.x-n.x)>(t.y-n.y)*(i.x-n.x)}});L.Polygon.include({intersects:function(){var i,n=this._getProjectedPoints(),t,r,u,f;return this._tooFewPointsForIntersection()?!1:(i=L.Polyline.prototype.intersects.call(this),i)?!0:(t=n.length,r=n[0],u=n[t-1],f=t-2,this._lineSegmentsIntersectsRange(u,r,f,1))}});L.Polyline.include({intersects:function(){var t=this._getProjectedPoints(),u=t?t.length:0,n,i,r;if(this._tooFewPointsForIntersection())return!1;for(n=u-1;n>=3;n--)if(i=t[n-1],r=t[n],this._lineSegmentsIntersectsRange(i,r,n-2))return!0;return!1},newLatLngIntersects:function(n,t){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(n),t):!1},newPointIntersects:function(n,t){var i=this._getProjectedPoints(),r=i?i.length:0,u=i?i[r-1]:null,f=r-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(u,n,f,t?1:0)},_tooFewPointsForIntersection:function(n){var t=this._getProjectedPoints(),i=t?t.length:0;return i+=n||0,!t||i<=3},_lineSegmentsIntersectsRange:function(n,t,i,r){var f=this._getProjectedPoints(),e,o,u;for(r=r||0,u=i;u>r;u--)if(e=f[u-1],o=f[u],L.LineUtil.segmentsIntersect(n,t,e,o))return!0;return!1},_getProjectedPoints:function(){var t,i,n;if(!this._defaultShape)return this._originalPoints;for(t=[],i=this._defaultShape(),n=0;n<i.length;n++)t.push(this._map.latLngToLayerPoint(i[n]));return t}});L.Map.mergeOptions({touchExtend:!0});L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n;this._container=n._container;this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this);L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this);L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this);if(this._detectIE()){L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this);L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this);L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this);L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)}else{L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this);L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this)}},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this);L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this);L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this);this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,t){var i={};if(typeof n.touches!="undefined"){if(!n.touches.length)return;i=n.touches[0]}else if(n.pointerType==="touch"){if(i=n,!this._filterClick(n))return}else return;var u=this._map.mouseEventToContainerPoint(i),r=this._map.mouseEventToLayerPoint(i),f=this._map.layerPointToLatLng(r);this._map.fire(t,{latlng:f,layerPoint:r,containerPoint:u,pageX:i.pageX,pageY:i.pageY,originalEvent:n})},_filterClick:function(n){var i=n.timeStamp||n.originalEvent.timeStamp,t=L.DomEvent._lastClick&&i-L.DomEvent._lastClick;return t&&t>100&&t<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=i,!0)},_onTouchStart:function(n){if(this._map._loaded)this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){if(this._map._loaded)this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel");this._touchEvent(n,t)}},_onTouchLeave:function(n){if(this._map._loaded)this._touchEvent(n,"touchleave")},_onTouchMove:function(n){if(this._map._loaded)this._touchEvent(n,"touchmove")},_detectIE:function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1}});L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend);L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){var n,t,i;if(this.options.clickable){n=this._icon;t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]);L.DomUtil.addClass(n,"leaflet-clickable");L.DomEvent.on(n,"click",this._onMouseClick,this);L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(i=0;i<t.length;i++)L.DomEvent.on(n,t[i],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1}});