L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var t;if(this._toolbars={},L.DrawToolbar&&this.options.draw){t=new L.DrawToolbar(this.options.draw);this._toolbars[L.DrawToolbar.TYPE]=t;this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)}if(L.EditToolbar&&this.options.edit){t=new L.EditToolbar(this.options.edit);this._toolbars[L.EditToolbar.TYPE]=t;this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)}L.toolbar=this},onAdd:function(n){var i=L.DomUtil.create("div","leaflet-draw"),r=!1,u="leaflet-draw-toolbar-top",t;for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(t=this._toolbars[f].addToolbar(n),t&&(r||(L.DomUtil.hasClass(t,u)||L.DomUtil.addClass(t.childNodes[0],u),r=!0),i.appendChild(t)));return i},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(n)},_toolbarEnabled:function(n){var i=n.target;for(var t in this._toolbars)this._toolbars[t]!==i&&this._toolbars[t].disable()}});L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1});L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))});